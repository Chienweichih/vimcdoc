<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>VIM: tabpage</title>
<link rel="stylesheet" href="vim-stylesheet.css" type="text/css">
</head>
<body>
<div id=banner>
<a href="help.html">幫助總覽</a> &middot;
<a href="quickref.html">快速參考</a> &middot;
<a href="index.html">命令索引</a> &middot;
<a href="usr_toc.html">用戶手冊</a> &middot;
<a href="help.html#reference_toc">參考手冊</a>
</div>

<div id=outer>
<h2>tabpage</h2>
<pre>
<b class="vimtag"> <a name="tabpage.txt">tabpage.txt</a> </b>   For Vim version 8.0.  最近更新: 2017年8月


                  <code class="vim">VIM 參考手冊    by Bram Moolenaar</code>
                                <code class="vim">譯者</code>: Willis
                                http://vimcdoc.sf.net


多標籤頁窗口編輯                                        <b class="vimtag"> <a name="tab-page">tab-page</a> </b> <b class="vimtag"> <a name="tabpage">tabpage</a> </b>

這裡解釋新加入的處理多標籤頁的命令。另外，也提供因為和多於一個標籤頁組合使用而
行為不同的命令的解釋。

1. 簡介                          <a href="tabpage.html#tab-page-intro">tab-page-intro</a> 
2. 命令                          <a href="tabpage.html#tab-page-commands">tab-page-commands</a> 
3. 其它項目                      <a href="tabpage.html#tab-page-other">tab-page-other</a> 
4. 設置 <a href="options.html#'tabline'">'tabline'</a>                <a href="tabpage.html#setting-tabline">setting-tabline</a> 
5. 設置 <a href="options.html#'guitablabel'">'guitablabel'</a>            <a href="tabpage.html#setting-guitablabel">setting-guitablabel</a> 

<code class="notvi">{Vi 無此功能}</code>
<code class="notvi">{僅當編譯時加入  <a href="various.html#+windows">+windows</a>  特性才能使用多標籤頁}</code>

</pre><hr class="doubleline" /><pre>
<h4>1. 簡介                                         <b class="vimtag"> <a name="tab-page-intro">tab-page-intro</a> </b></h4>
一個標籤頁容納一或多個窗口。標籤頁間很容易切換，這種方式使你可以擁有多個窗口集
合，每個集合做不同的工作。

通常你會在 Vim 窗口頂部看到一組標籤的列表，每個標籤頁一個。用鼠標點擊標籤可以
跳轉到對應的標籤頁。下面還介紹在其它標籤頁間移動的方式。

多數命令只能用於當前標籤頁，其中包括  <a href="index.html#CTRL-W">CTRL-W</a>  命令、 <a href="windows.html#:windo">:windo</a> 、 <a href="windows.html#:all">:all</a>  和
 <a href="windows.html#:ball">:ball</a>  (除非用  <a href="tabpage.html#:tab">:tab</a>  修飾符)。
下面會列出那些能意識到有其它標籤頁存在的命令。

標籤頁也是臨時編輯某個緩衝區而不用修改當前窗口佈局的好方法。只要打開新標籤頁，
做你想做的事，然後關閉該標籤頁就可以了。

</pre><hr class="doubleline" /><pre>
<h4>2. 命令                                                 <b class="vimtag"> <a name="tab-page-commands">tab-page-commands</a> </b></h4>
打 開 新 標 簽 頁:

啟動 Vim 時用 "vim -p filename ..." 為每個文件參數打開一個新標籤頁 (標籤頁個數
不能超過 <a href="options.html#'tabpagemax'">'tabpagemax'</a>)。見  <a href="starting.html#-p">-p</a> 

非 GUI 標籤頁行上雙擊鼠標打開新的空白標籤頁。該標籤頁出現在點擊位置的左側。第
一擊可能會先選擇不同的標籤頁，從而導致額外的屏幕刷新。

在一些 GUI 版本上，特別是 Win32 和 Motif，也可以這麼用。但必須在所有標籤右側點
擊。

GUI 標籤頁行可以用鼠標右鍵打開菜單。 <a href="tabpage.html#tabline-menu">tabline-menu</a> 。

相關的自動命令可見  <a href="tabpage.html#tabnew-autocmd">tabnew-autocmd</a> 。

:<code class="special">[count]</code>tabe[dit]                               <b class="vimtag"> <a name=":tabe">:tabe</a> </b> <b class="vimtag"> <a name=":tabedit">:tabedit</a> </b> <b class="vimtag"> <a name=":tabnew">:tabnew</a> </b>
:<code class="special">[count]</code>tabnew
                在當前標籤頁之後打開帶空窗口的新標籤頁。
                如果給出 <code class="special">[count]</code>，新標籤頁出現在第 <code class="special">[count]</code> 個標籤頁之後，否則
                新標籤頁出現在當前頁之後。 
<code class="example">                    :tabnew     " 在當前頁之後打開標籤頁</code>
<code class="example">                    :.tabnew    " 同上</code>
<code class="example">                    :+tabnew    " 在下頁之後打開標籤頁</code>
<code class="example">                                " 備註: 這比 :tabnew 要後一個位置</code>
<code class="example">                    :-tabnew    " 在當前頁之前打開標籤頁</code>
<code class="example">                    :0tabnew    " 在首頁之前打開標籤頁</code>
<code class="example">                    :$tabnew    " 在末頁之後打開標籤頁</code>
<code class="example"></code>
:<code class="special">[count]</code>tabe[dit] <code class="special">[++opt]</code> <code class="special">[+cmd]</code> <code class="special">{file}</code>
:<code class="special">[count]</code>tabnew <code class="special">[++opt]</code> <code class="special">[+cmd]</code> <code class="special">{file}</code>
                打開新標籤頁並編輯 <code class="special">{file}</code>，其餘和  <a href="editing.html#:edit">:edit</a>  類同。關於 <code class="special">[count]</code>
                見上面的  <a href="tabpage.html#:tabnew">:tabnew</a> 。

:<code class="special">[count]</code>tabf[ind] <code class="special">[++opt]</code> <code class="special">[+cmd]</code> <code class="special">{file}</code>                 <b class="vimtag"> <a name=":tabf">:tabf</a> </b> <b class="vimtag"> <a name=":tabfind">:tabfind</a> </b>
                打開新標籤頁並編輯 <a href="options.html#'path'">'path'</a> 裡的 <code class="special">{file}</code>，其餘和  <a href="editing.html#:find">:find</a>  類同。關
                於 <code class="special">[count]</code> 見上面的  <a href="tabpage.html#:tabnew">:tabnew</a> 。
                <code class="notvi">{僅當編譯時加入  <a href="various.html#+file_in_path">+file_in_path</a>  特性才有效}</code>

:<code class="special">[count]</code>tab <code class="special">{cmd}</code>                                       <b class="vimtag"> <a name=":tab">:tab</a> </b>
                執行 <code class="special">{cmd}</code>，如果它打開新窗口，使用新標籤頁代替。不能用於
                 <a href="diff.html#:diffsplit">:diffsplit</a> 、 <a href="diff.html#:diffpatch">:diffpatch</a> 、 <a href="eval.html#:execute">:execute</a>  和  <a href="various.html#:normal">:normal</a> 。
                如果給出 <code class="special">[count]</code>，新標籤頁出現在第 <code class="special">[count]</code> 個標籤頁之後，否則
                新標籤頁出現在當前頁之後。
                例如: 
<code class="example">                    :tab split      " 在新標籤頁上打開當前緩衝區</code>
<code class="example">                    :tab help gt    " 打開標籤頁顯示 "gt" 的幫助</code>
<code class="example">                    :.tab help gt   " 同上</code>
<code class="example">                    :+tab help      " 在下頁之後打開標籤頁顯示幫助</code>
<code class="example">                    :-tab help      " 在當前頁之前打開標籤頁顯示幫助</code>
<code class="example">                    :0tab help      " 在首頁之前打開標籤頁顯示幫助</code>
<code class="example">                    :$tab help      " 在末頁之後打開標籤頁顯示幫助</code>
<code class="example"></code>
<code class="keystroke">CTRL-W</code> gf       打開新標籤頁並編輯光標所在的文件名。見  <a href="windows.html#CTRL-W_gf">CTRL-W_gf</a> 。

<code class="keystroke">CTRL-W</code> gF       打開新標籤頁，編輯光標所在的文件名並轉到文件名後的行號上。見
                 <a href="windows.html#CTRL-W_gF">CTRL-W_gF</a> 。

關 閉 標 簽 頁:

關閉標籤頁的最後一個窗口同時也關閉該標籤頁，除非它是唯一的標籤頁。

使用鼠標: 如果顯示標籤頁行，點擊右上角的 "X" 可以關閉當前標籤頁。如果使用自定
義的  <a href="options.html#'tabline'">'tabline'</a> ，顯示內容可能有所不同。

                                                        <b class="vimtag"> <a name=":tabc">:tabc</a> </b> <b class="vimtag"> <a name=":tabclose">:tabclose</a> </b>
:tabc[lose][!]  關閉當前標籤頁。
                如下情形使該命令失敗:
                - 屏幕上只有一個標籤頁。                                <b class="vimtag"> <a name="E784">E784</a> </b>
                - 如果 <a href="options.html#'hidden'">'hidden'</a> 沒有置位，沒有 [!]，緩衝區有修改，而且該緩衝區
                  沒有其它窗口。
                緩衝區的修改不會被寫入，也不會丟失。所以這可以說是個 "安全的"
                命令。 
<code class="example">                    :tabclose       " 關閉當前標籤頁</code>
<code class="example"></code>
:tabc[lose][!] <code class="special">{count}</code>
                關閉第 <code class="special">{count}</code> 個標籤頁。失敗條件和上面的  <a href="tabpage.html#:tabclose">:tabclose</a>  相同。 
<code class="example">                    :-tabclose      " 關閉上個標籤頁</code>
<code class="example">                    :+tabclose      " 關閉下個標籤頁</code>
<code class="example">                    :1tabclose      " 關閉首個標籤頁</code>
<code class="example">                    :$tabclose      " 關閉末個標籤頁</code>
<code class="example">                    :tabclose -2    " 關閉往前第二個標籤頁</code>
<code class="example">                    :tabclose +     " 關閉下個標籤頁</code>
<code class="example">                    :tabclose 3     " 關閉第三個標籤頁</code>
<code class="example">                    :tabclose $     " 關閉末個標籤頁</code>


                                                        <b class="vimtag"> <a name=":tabo">:tabo</a> </b> <b class="vimtag"> <a name=":tabonly">:tabonly</a> </b>
:tabo[nly][!]   關閉所有其它的標籤頁。
                如果置位 <a href="options.html#'hidden'">'hidden'</a> 選項，所有關閉窗口的緩衝區成為隱藏。
                如果沒有置位 <a href="options.html#'hidden'">'hidden'</a> 但置位 <a href="options.html#'autowrite'">'autowrite'</a> 選項，寫回修改過的緩
                沖區。否則，包含修改過的緩衝區的窗口不會被刪除。但如果給出
                [!]，這些窗口成為隱藏。修改過的緩衝區永遠不會被放棄，所以永遠
                不被丟失這些改動。 
<code class="example">                    :tabonly        " 關閉除了當前頁的所有標籤頁</code>
<code class="example"></code>
:<code class="special">{count}</code>tabo[nly][!]
:tabo[nly][!] <code class="special">{count}</code>
                關閉除了 <code class="special">{count}</code> 以外的所有的標籤頁。 
<code class="example">                    :.tabonly       " 同上</code>
<code class="example">                    :-tabonly       " 關閉除了上一頁之外的所有標籤頁</code>
<code class="example">                    :+tabonly       " 關閉除了下一頁之外的所有標籤頁</code>
<code class="example">                    :1tabonly       " 關閉除了首頁之外的所有標籤頁</code>
<code class="example">                    :$tabonly       " 關閉除了末頁之外的所有標籤頁</code>
<code class="example">                    :tabonly -      " 關閉除了上一頁之外的所有標籤頁</code>
<code class="example">                    :tabonly +2     " 關閉除了往後第二頁之外的所有標籤頁</code>
<code class="example">                    :tabonly 1      " 關閉除了首頁之外的所有標籤頁</code>
<code class="example">                    :tabonly $      " 關閉除了末頁之外的所有標籤頁</code>
<code class="example"></code>
<code class="example"></code>
切 換 到 另 一 個 標 簽 頁:

使用鼠標: 如果顯示標籤頁行，某個標籤頁標籤上單擊可以切換到該標籤頁。沒有標籤的
地方點擊則轉到下一個標籤頁。 <a href="options.html#'tabline'">'tabline'</a> 

:tabn[ext]                              <b class="vimtag"> <a name=":tabn">:tabn</a> </b> <b class="vimtag"> <a name=":tabnext">:tabnext</a> </b> <b class="vimtag"> <a name="gt">gt</a> </b>
<code class="special">&lt;C-PageDown&gt;</code>                            <b class="vimtag"> <a name="CTRL-%3CPageDown%3E">CTRL-&lt;PageDown&gt;</a> </b> <b class="vimtag"> <a name="%3CC-PageDown%3E">&lt;C-PageDown&gt;</a> </b>
gt                                      <b class="vimtag"> <a name="i_CTRL-%3CPageDown%3E">i_CTRL-&lt;PageDown&gt;</a> </b> <b class="vimtag"> <a name="i_%3CC-PageDown%3E">i_&lt;C-PageDown&gt;</a> </b>
                轉到下一個標籤頁。最後一個標籤頁則迴繞到第一個。

:<code class="special">{count}</code>tabn[ext]
:tabn[ext] <code class="special">{count}</code>
                轉到第 <code class="special">{count}</code> 個標籤頁。首個標籤頁編號為一。 
<code class="example">                    :-tabnext   " 轉到上個標籤頁</code>
<code class="example">                    :+tabnext   " 轉到下個標籤頁</code>
<code class="example">                    :+2tabnext  " 轉到往後第二個標籤頁</code>
<code class="example">                    :1tabnext   " 轉到首個標籤頁</code>
<code class="example">                    :$tabnext   " 轉到末個標籤頁</code>
<code class="example">                    :tabnext $  " 同上</code>
<code class="example">                    :tabnext -  " 轉到上個標籤頁</code>
<code class="example">                    :tabnext -1 " 同上</code>
<code class="example">                    :tabnext +  " 轉到下個標籤頁</code>
<code class="example">                    :tabnext +1 " 同上</code>
<code class="example"></code>
<code class="special">{count}</code><code class="special">&lt;C-PageDown&gt;</code>
<code class="special">{count}</code>gt       轉到第 <code class="special">{count}</code> 個標籤頁。首個標籤頁編號為一。


:tabp[revious]                          <b class="vimtag"> <a name=":tabp">:tabp</a> </b> <b class="vimtag"> <a name=":tabprevious">:tabprevious</a> </b> <b class="vimtag"> <a name="gT">gT</a> </b> <b class="vimtag"> <a name=":tabN">:tabN</a> </b>
:tabN[ext]                              <b class="vimtag"> <a name=":tabNext">:tabNext</a> </b> <b class="vimtag"> <a name="CTRL-%3CPageUp%3E">CTRL-&lt;PageUp&gt;</a> </b>
<code class="special">&lt;C-PageUp&gt;</code>                       <b class="vimtag"> <a name="%3CC-PageUp%3E">&lt;C-PageUp&gt;</a> </b> <b class="vimtag"> <a name="i_CTRL-%3CPageUp%3E">i_CTRL-&lt;PageUp&gt;</a> </b> <b class="vimtag"> <a name="i_%3CC-PageUp%3E">i_&lt;C-PageUp&gt;</a> </b>
gT              轉到前一個標籤頁。首個標籤頁則迴繞到最後一個。

:tabp[revious] <code class="special">{count}</code>
:tabN[ext] <code class="special">{count}</code>
<code class="special">{count}</code><code class="special">&lt;C-PageUp&gt;</code>
<code class="special">{count}</code>gT       轉到前面 <code class="special">{count}</code> 個標籤頁。首個標籤頁則迴繞到最後一個。

:tabr[ewind]                    <b class="vimtag"> <a name=":tabfir">:tabfir</a> </b> <b class="vimtag"> <a name=":tabfirst">:tabfirst</a> </b> <b class="vimtag"> <a name=":tabr">:tabr</a> </b> <b class="vimtag"> <a name=":tabrewind">:tabrewind</a> </b>
:tabfir[st]     轉到第一個標籤頁。

                                                        <b class="vimtag"> <a name=":tabl">:tabl</a> </b> <b class="vimtag"> <a name=":tablast">:tablast</a> </b>
:tabl[ast]      轉到最後一個標籤頁。


其它命令:
                                                        <b class="vimtag"> <a name=":tabs">:tabs</a> </b>
:tabs           列出標籤頁和它們包含的窗口。
                當前窗口顯示 "&gt;"。
                修改過的緩衝區顯示 "+"。
                例如:
<code class="section">                        Tab page 1 </code>
<code class="section">                          + tabpage.txt </code>
<code class="section">                            ex_docmd.c </code>
<code class="section">                        Tab page 2 </code>
<code class="section">                        &gt;   main.c </code>



重 新 排 列 標 簽 頁:

:tabm[ove] <code class="special">[N]</code>                                          <b class="vimtag"> <a name=":tabm">:tabm</a> </b> <b class="vimtag"> <a name=":tabmove">:tabmove</a> </b>
:[N]tabm[ove]
                把當前標籤頁移到第 N 個標籤頁之後。用 0 使當前標籤頁成為首個標
                簽頁。如果沒有 N，當前標籤頁成為最後一個。 
<code class="example">                    :.tabmove   " 什麼都不做</code>
<code class="example">                    :-tabmove   " 往左移動當前標籤頁</code>
<code class="example">                    :+tabmove   " 往右移動當前標籤頁</code>
<code class="example">                    :0tabmove   " 移動當前標籤頁到標籤頁之首</code>
<code class="example">                    :tabmove 0  " 同上</code>
<code class="example">                    :tabmove    " 移動當前標籤頁到標籤頁之末</code>
<code class="example">                    :$tabmove   " 同上</code>
<code class="example">                    :tabmove $  " 同上</code>
<code class="example"></code>
:tabm[ove] +[N]
:tabm[ove] -[N]
                移動當前標籤頁向右 (用 + 的話) 或向左 (用 - 的話) N 個位置。 
<code class="example">                    :tabmove -  " 往左移動當前標籤頁</code>
<code class="example">                    :tabmove -1 " 同上</code>
<code class="example">                    :tabmove +  " 往右移動當前標籤頁</code>
<code class="example">                    :tabmove +1 " 同上</code>
<code class="example"></code>
<code class="note">注意</code> 可以用 :Ntabmove 來移動標籤頁到第 N 個標籤頁之後，也可用 :+Ntabmove 來移
動 N 個位置。在此情形下 +N 的實際含義可見  <a href="cmdline.html#[range]">[range]</a>  處的解釋。


循 環 遍 歷 所 有 標 簽 頁:

                                                        <b class="vimtag"> <a name=":tabd">:tabd</a> </b> <b class="vimtag"> <a name=":tabdo">:tabdo</a> </b>
:<code class="special">[range]</code>tabd[o] <code class="special">{cmd}</code>
                對每個標籤頁執行 <code class="special">{cmd}</code>，如果給出 <code class="special">[range]</code>，只對頁號在 <code class="special">[range]</code>
                內的標籤頁執行。
                大致相當於: 
<code class="example">                        :tabfirst</code>
<code class="example">                        :{cmd}</code>
<code class="example">                        :tabnext</code>
<code class="example">                        :{cmd}</code>
<code class="example">                        等等</code>
                只對每個標籤頁的當前窗口進行操作。如果某個標籤頁出現錯誤，不再
                繼續訪問其餘的標籤頁。
                最後一個標籤頁 (或任何出錯的標籤頁) 成為當前標籤頁。
                <code class="special">{cmd}</code> 可以包含 '|' 以連接多個命令。
                <code class="special">{cmd}</code> 不能打開標籤頁、關閉標籤頁或重排標籤頁。
                <code class="notvi">{Vi 無此功能}</code> <code class="notvi">{僅當編譯時加入  <a href="various.html#+listcmds">+listcmds</a>  特性才有效}</code>
                另見  <a href="windows.html#:windo">:windo</a> 、 <a href="editing.html#:argdo">:argdo</a> 、 <a href="windows.html#:bufdo">:bufdo</a> 、 <a href="quickfix.html#:cdo">:cdo</a> 、 <a href="quickfix.html#:ldo">:ldo</a> 、 <a href="quickfix.html#:cfdo">:cfdo</a>  和
                 <a href="quickfix.html#:lfdo">:lfdo</a> 

</pre><hr class="doubleline" /><pre>
<h4>3. 其它項目                                             <b class="vimtag"> <a name="tab-page-other">tab-page-other</a> </b></h4>
                                                        <b class="vimtag"> <a name="tabline-menu">tabline-menu</a> </b>
GUI 標籤頁行提供彈出菜單。用右鍵點擊可以訪問。它包含的項目有:
        Close           關閉鼠標指針所在的標籤頁。如果鼠標指針不在任何標籤上，
                        關閉當前標籤頁。
        New Tab         打開新標籤頁並編輯空緩衝區。該標籤頁出現在鼠標指針的左
                        側。
        Open Tab...     類似於 "New Tab"，但同時提供文件選擇器以選擇要編輯的文
                        件。

每個標籤頁對比較模式進行分別的處理。你可以在一個標籤頁上比較若干文件。而在另一
個標籤頁上比較不同的文件。

局部於標籤頁的變量以 "t:" 開頭。 <a href="eval.html#tabpage-variable">tabpage-variable</a> 

目前只有一個局部於標籤頁的選項: <a href="options.html#'cmdheight'">'cmdheight'</a>。

                                                <b class="vimtag"> <a name="tabnew-autocmd">tabnew-autocmd</a> </b>
TabLeave 和 TabEnter 自動命令事件可以在標籤頁切換時執行任務。準確的順序取決於
你做的事情。建立新標籤頁相當於先建立工作於同一緩衝區的新窗口，再在其上編輯別的
緩衝區。所以，":tabnew" 依次激活:
        WinLeave                離開當前窗口
        TabLeave                離開當前標籤頁
        WinEnter                進入新標籤頁的窗口
        TabEnter                進入新標籤頁
        BufLeave                離開當前緩衝區
        BufEnter                進入新的空白緩衝區

而切換到另一個標籤頁的相應順序是:
        BufLeave
        WinLeave
        TabLeave
        TabEnter
        WinEnter
        BufEnter

</pre><hr class="doubleline" /><pre>
<h4>4. 設置 <a href="options.html#'tabline'">'tabline'</a>                                       <b class="vimtag"> <a name="setting-tabline">setting-tabline</a> </b></h4>
<a href="options.html#'tabline'">'tabline'</a> 選項指定標籤頁行的外觀。只有沒有 GUI 標籤頁行時才使用該選項。

用 <a href="options.html#'showtabline'">'showtabline'</a> 選項可以指定何時顯示標籤頁行: 從不、多於一個標籤頁才顯示、總
是。

標籤頁行的高亮用 TabLine、TabLineSel 和 TabLineFill 分別指定。 <a href="syntax.html#hl-TabLine">hl-TabLine</a> 
 <a href="syntax.html#hl-TabLineSel">hl-TabLineSel</a>   <a href="syntax.html#hl-TabLineFill">hl-TabLineFill</a> 

包含修改過的窗口的標籤頁會顯示 "+"。同時也顯示該標籤頁裡包含的窗口數。所以，
"3+" 意味著有三個窗口，其中一個有修改過的緩衝區。

<a href="options.html#'tabline'">'tabline'</a> 選項允許你定義自己喜歡的標籤頁標籤顯示方式。實現並不簡單，所以這裡給
出一個例子。

基本知識見 <a href="options.html#'statusline'">'statusline'</a> 選項。<a href="options.html#'tabline'">'tabline'</a> 選項可以使用相同的項目。此外，還可用
 <a href="eval.html#tabpagebuflist()">tabpagebuflist()</a> 、 <a href="eval.html#tabpagenr()">tabpagenr()</a>  和  <a href="eval.html#tabpagewinnr()">tabpagewinnr()</a>  函數。

因為標籤頁標籤的編號可以不同，你可以指定整個選項為一個函數。就像這樣: 
<code class="example">        :set tabline=%!MyTabLine()</code>
<code class="example"></code>
然後定義 MyTabLine() 函數以列出所有標籤頁標籤。一個方便的方式是把該函數分成兩
部分: 首先遍歷所有的標籤頁並分別定義它們的標籤。然後得到每個標籤頁的標籤。 
<code class="example"></code>
<code class="example">        function MyTabLine()</code>
<code class="example">          let s = ''</code>
<code class="example">          for i in range(tabpagenr('$'))</code>
<code class="example">            " 選擇高亮</code>
<code class="example">            if i + 1 == tabpagenr()</code>
<code class="example">              let s .= '%#TabLineSel#'</code>
<code class="example">            else</code>
<code class="example">              let s .= '%#TabLine#'</code>
<code class="example">            endif</code>
<code class="example"></code>
<code class="example">            " 設置標籤頁號 (用於鼠標點擊)</code>
<code class="example">            let s .= '%' . (i + 1) . 'T'</code>
<code class="example"></code>
<code class="example">            " MyTabLabel() 提供標籤</code>
<code class="example">            let s .= ' %{MyTabLabel(' . (i + 1) . ')} '</code>
<code class="example">          endfor</code>
<code class="example"></code>
<code class="example">          " 最後一個標籤頁之後用 TabLineFill 填充並復位標籤頁號</code>
<code class="example">          let s .= '%#TabLineFill#%T'</code>
<code class="example"></code>
<code class="example">          " 右對齊用於關閉當前標籤頁的標籤</code>
<code class="example">          if tabpagenr('$') &gt; 1</code>
<code class="example">            let s .= '%=%#TabLine#%999Xclose'</code>
<code class="example">          endif</code>
<code class="example"></code>
<code class="example">          return s</code>
<code class="example">        endfunction</code>
<code class="example"></code>
現在為每個標籤頁調用 MyTabLabel() 函數以得到它們的標籤。 
<code class="example"></code>
<code class="example">        function MyTabLabel(n)</code>
<code class="example">          let buflist = tabpagebuflist(a:n)</code>
<code class="example">          let winnr = tabpagewinnr(a:n)</code>
<code class="example">          return bufname(buflist[winnr - 1])</code>
<code class="example">        endfunction</code>
<code class="example"></code>
這只是一個產生和缺省值類似的標籤頁行的簡單例子，和缺省的區別是修改過的緩衝區沒
有加上 + 號，而名字也沒有被截短。如果空間不足，你需要用聰明一些的方法來縮短標
簽寬度。 <a href="options.html#'columns'">'columns'</a> 選項可以查看可用的空間。

</pre><hr class="doubleline" /><pre>
<h4>5. 設置 <a href="options.html#'guitablabel'">'guitablabel'</a>                                   <b class="vimtag"> <a name="setting-guitablabel">setting-guitablabel</a> </b></h4>
如果顯示 GUI 的標籤頁行，<a href="options.html#'guitablabel'">'guitablabel'</a> 可以用來指定每個標籤頁顯示的標籤。和
<a href="options.html#'tabline'">'tabline'</a> 不同，後者一次指定整個標籤頁行，而 <a href="options.html#'guitablabel'">'guitablabel'</a> 分別指定每個標籤。

<a href="options.html#'guitabtooltip'">'guitabtooltip'</a> 與之非常類似，但用來設置同一標籤的工具提示。因為只有在鼠標指針
在標籤上逗留時它才會出現，所以通常可以長一些。不過，只有部分系統支持。

<a href="options.html#'statusline'">'statusline'</a> 選項說明本選項值的格式。

用 "%N" 項目可以得到當前的標籤頁號。計算此選項時， <a href="eval.html#v:lnum">v:lnum</a>  變量也設置為該值。
使用文件名的項目引用當前標籤頁的當前窗口。

<code class="note">注意</code> 此選項不使用語法高亮。也忽略 %T 和 %X 項目。

簡單示例，在標籤頁標籤上顯示標籤頁號和緩衝區名: 
<code class="example">        :set guitablabel=%N\ %f</code>
<code class="example"></code>
模擬 <a href="options.html#'guitablabel'">'guitablabel'</a> 缺省值的示例: 顯示標籤頁裡的窗口數目，如果有修改過的緩衝
區，顯示 '+': 
<code class="example"></code>
<code class="example">        function GuiTabLabel()</code>
<code class="example">          let label = ''</code>
<code class="example">          let bufnrlist = tabpagebuflist(v:lnum)</code>
<code class="example"></code>
<code class="example">          " 如果標籤頁裡有修改過的緩衝區，加上 '+'</code>
<code class="example">          for bufnr in bufnrlist</code>
<code class="example">            if getbufvar(bufnr, "&amp;modified")</code>
<code class="example">              let label = '+'</code>
<code class="example">              break</code>
<code class="example">            endif</code>
<code class="example">          endfor</code>
<code class="example"></code>
<code class="example">          " 如果標籤頁裡的窗口數目多於一，加上窗口數目</code>
<code class="example">          let wincount = tabpagewinnr(v:lnum, '$')</code>
<code class="example">          if wincount &gt; 1</code>
<code class="example">            let label .= wincount</code>
<code class="example">          endif</code>
<code class="example">          if label != ''</code>
<code class="example">            let label .= ' '</code>
<code class="example">          endif</code>
<code class="example"></code>
<code class="example">          " 附加緩衝區名</code>
<code class="example">          return label . bufname(bufnrlist[tabpagewinnr(v:lnum) - 1])</code>
<code class="example">        endfunction</code>
<code class="example"></code>
<code class="example">        set guitablabel=%{GuiTabLabel()}</code>

<code class="note">注意</code> 設置選項值前就必須已經定義好函數。否則會報錯，提示函數未知。

如果你希望回到缺省的標籤，返回空字符串。

如果你希望顯示標籤頁特定的內容，可以使用局部於標籤頁的變量。 <a href="eval.html#t:var">t:var</a> 


 vim:tw=78:ts=8:ft=help:norl:
</pre>
<p><i>Generated by vim2html</i></p>
</div>
</body>
</html>
