<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>VIM: os_mac</title>
<link rel="stylesheet" href="vim-stylesheet.css" type="text/css">
</head>
<body>
<div id=banner>
<a href="help.html">幫助總覽</a> &middot;
<a href="quickref.html">快速參考</a> &middot;
<a href="index.html">命令索引</a> &middot;
<a href="usr_toc.html">用戶手冊</a> &middot;
<a href="help.html#reference_toc">參考手冊</a>
</div>

<div id=outer>
<h2>os_mac</h2>
<pre>
<b class="vimtag"> <a name="os_mac.txt">os_mac.txt</a> </b>    For Vim version 8.0.  最近更新: 2017年8月


                  <code class="vim">VIM 參考手冊    by Bram Moolenaar et al.</code>
            <code class="vim">譯者</code>: iCrazy&lt;icrazy@ustc.edu&gt;, Willis，tocer
            http://vimcdoc.sf.net


                                        <b class="vimtag"> <a name="mac">mac</a> </b> <b class="vimtag"> <a name="Mac">Mac</a> </b> <b class="vimtag"> <a name="macintosh">macintosh</a> </b> <b class="vimtag"> <a name="Macintosh">Macintosh</a> </b>

本文件闡述 Vim 的 Macintonsh 版本的特性。

<code class="note">注意</code>: 本文檔已經略有過時。在這裡你可以找到更多有用的信息:
        http://macvim.org

1. 文件名約定                    <a href="os_mac.html#mac-filename">mac-filename</a> 
2. .vimrc 和 .vim 文件           <a href="os_mac.html#mac-vimfile">mac-vimfile</a> 
3. 標準映射                      <a href="os_mac.html#mac-standard-mappings">mac-standard-mappings</a> 
4. FAQ                           <a href="os_mac.html#mac-faq">mac-faq</a> 
5. 已知的不足之處                <a href="os_mac.html#mac-lack">mac-lack</a> 
6. Mac 錯誤報告                  <a href="os_mac.html#mac-bug">mac-bug</a> 
7. 編譯 Vim                      <a href="os_mac.html#mac-compile">mac-compile</a> 
8. Darwin 特性                   <a href="os_mac.html#mac-darwin-feature">mac-darwin-feature</a> 

Vim 的 3.0 版有一個移植到 Mac 的版本。這是當時文檔中開始的幾句話:

VIM Release Notes
Initial Macintosh release, VIM version 3.0
19 October 1994

Eric Fischer
&lt;enf1@midway.uchicago.edu&gt;, &lt;eric@jcp.uchicago.edu&gt;, &lt;etaoin@uchicago.edu&gt;
5759 N. Guilford Ave
Indianapolis IN 46220 USA

</pre><hr class="doubleline" /><pre>
<h4>1. 文件名約定                                           <b class="vimtag"> <a name="mac-filename">mac-filename</a> </b></h4>
從 Vim 版本 7 開始，你只能用 unix 的路徑分隔符。為了確定指定的文件名是與當前目
錄相關 (相對路徑)，還是絕對路徑 (即: 和 "桌面" 相關)，我們使用了如下的算法:

        如果路徑以 "/" 開始，則為絕對路徑
        如果路徑以 ":" 開始，則為相對路徑
        如果路徑不以 "/" 和 ":" 開始，但是 ":" 在 "/" 之前出現，則為絕對路徑

<code class="example">                :e /HD/text</code>
<code class="example">                :e HD:text</code>
        編輯磁盤 "HD" 中的文件 "text" 
<code class="example">                :e :src:main.c</code>
<code class="example">                :e src/main.c</code>
        編輯當前目錄下子目錄 "src" 中的文件 "main.c" 
<code class="example">                :e os_mac.c</code>
        編輯當前目錄下的文件 "os_mac.c"。

您可以使用變量  <a href="starting.html#$VIM">$VIM</a>  和  <a href="starting.html#$VIMRUNTIME">$VIMRUNTIME</a>  
<code class="example"></code>
<code class="example">                :so $VIMRUNTIME:syntax:syntax.vim</code>
<code class="example"></code>
</pre><hr class="doubleline" /><pre>
<h4>2. .vimrc 和 .vim 文件                                  <b class="vimtag"> <a name="mac-vimfile">mac-vimfile</a> </b></h4>
對於 Vim 腳本，建議使用 Unix 風格的換行符，也就是單個 NL 字符。

當 Vim 啟動時，它會載入 $VIMRUNTIME/macmap.vim 腳本以定義默認的命令鍵
(command-key) 映射。

在舊版系統上，一般應避免使用以 "." 開頭的文件，所以那些 rc 文件被命名為
"vimrc" 或 "_vimrc"，以及 "gvimrc" 或 "_gvimrc"。這些文件可以是任何格式 (mac、
dos 或 unix)。如果  <a href="options.html#'nocompatible'">'nocompatible'</a>  選項打開，Vim 可以處理任何文件格式，否則它
只能處理 mac 格式的文件。

</pre><hr class="doubleline" /><pre>
<h4>3.  標準映射                                    <b class="vimtag"> <a name="mac-standard-mappings">mac-standard-mappings</a> </b></h4>
以下映射可用於剪切/複製/粘貼到剪貼板。

<code class="section">鍵              普通    可視      插入          描述 </code>
Command-v       "*P     "-d"*P    <code class="special">&lt;C-R&gt;</code>*        粘貼文本         <b class="vimtag"> <a name="%3CD-v%3E">&lt;D-v&gt;</a> </b>
Command-c               "*y                     複製可視文本     <b class="vimtag"> <a name="%3CD-c%3E">&lt;D-c&gt;</a> </b>
Command-x               "*d                     剪切可視文本     <b class="vimtag"> <a name="%3CD-x%3E">&lt;D-x&gt;</a> </b>
Backspace               "*d                     剪切可視文本

</pre><hr class="doubleline" /><pre>
<h4>4. Mac FAQ                                              <b class="vimtag"> <a name="mac-faq">mac-faq</a> </b></h4>
在互聯網上:  http://macvim.org/OSX/index.php#FAQ

問題: 我不能在 Apple 終端輸入非 ASCII 的字符。
回答: 在 Windows Setting，Emulation，確信沒有選上 "Escape non-ASCII
      characters"。

問題: 怎麼從命令行啟動 GUI？
回答: 假設 Vim.app 存放在 /Applications 中:
        open /Applications/Vim.app
   或:
        /Applications/Vim.app/Contents/MacOS/Vim -g  <code class="special">{arguments}</code>

問題: 如果我用 GUI 或 open 啟動 Vim.app，如何合理設置 $PATH？
回答: 下面這個竅門能用於多數外殼。把它放到 vimrc 文件中。macvim.org 發佈的二進
      制發行包中帶有的系統 vimrc 文件已經包含。 
<code class="example">        let s:path = system("echo echo VIMPATH'${PATH}' | $SHELL -l")</code>
<code class="example">        let $PATH = matchstr(s:path, 'VIMPATH\zs.\{-}\ze\n')</code>
<code class="example"></code>
</pre><hr class="doubleline" /><pre>
<h4>5. 已知的不足之處                                       <b class="vimtag"> <a name="mac-lack">mac-lack</a> </b></h4>
在終端中，<code class="keystroke">CTRL-^</code> 需要用 Shift-Control-6 來輸入。而 <code class="keystroke">CTRL-@</code> 則用 Shift-Control-2
輸入。

</pre><hr class="doubleline" /><pre>
<h4>6. Mac 錯誤報告                                         <b class="vimtag"> <a name="mac-bug">mac-bug</a> </b></h4>
當報告任何與 Mac 平台相關的 bug 或特性時，請使用 vim-mac 郵件列表  <a href="intro.html#vim-mac">vim-mac</a> 。
然而，您必須先訂閱它。另一個辦法就是發郵件給當前的 MacVim 維護者:

        mac@vim.org

</pre><hr class="doubleline" /><pre>
<h4>7. 編譯 Vim                                             <b class="vimtag"> <a name="mac-compile">mac-compile</a> </b></h4>
見伴隨源程序的文件 "src/INSTALLmac.txt"。

</pre><hr class="doubleline" /><pre>
<h4>8. Darwin 特性                                          <b class="vimtag"> <a name="mac-darwin-feature">mac-darwin-feature</a> </b></h4>
如果你的 Mac 不是太老，你運行的會是 OS X，也叫 Darwin。Darwin 之前的最後的 OS
版本是 Mac OS 9。Darwin 特性意味著 Vim 能使用 Darwin 特定的屬性。

此特性可以完成兩重目的:

- Vim 可以和系統剪貼板互動。
- 給 Vim 引入轉換模塊，為一些平台特定的字符編碼和 Vim 所知編碼之間彌合差異。

不需要講，任何像樣的文本編輯器要在同一桌面環境下和其它應用友好互動，沒有這兩條
是不行的。

Vim 不是專為 macOS 設計的應用，需要額外的特性來使 macOS 的用戶享受其它平台用戶
相同的用戶體驗。

為簡明起見，此特性稱為 "darwin"，用來表示它是專為此特定平台提供的 Vim 特性。

此特性是個配置選項。亦即，它的打開與否是在編譯時間決定的；一旦選擇打開，編譯時
帶入就不能在運行時關閉。

缺省打開此特性。對於多數 macOS 用戶，這就足夠了，除非他們有以下簡要說明的特殊
需要。

要關閉此特性，給 configure 腳本傳遞  <code class="badlink">--disable-darwin</code> : 
<code class="example"></code>
<code class="example">    ./configure --disable-darwin &lt;other options&gt;</code>
<code class="example"></code>
然後運行  <code class="badlink">make</code>  來編譯 Vim。選項的順序無關緊要。

要在運行時確定是否編譯進 darwin 特性，可用 `has(<code class="badlink">'macunix'</code>)`，如果編譯時有此特
性，返回 1；否則返回 0。

值得提出的  <code class="badlink">--disable-darwin</code>  實際有用的用例包括:

- 想用  <a href="gui_x11.html#x11-selection">x11-selection</a>  而不是系統剪貼板。
- 想用  <a href="remote.html#x11-clientserver">x11-clientserver</a> 。

因為兩者都需要 X11 客戶間通信才能正常工作，而該通信機制和系統剪貼板時有衝突，
可以通過關閉 darwin 特性以防止 Vim 運行時掛起。


 vim:tw=78:ts=8:ft=help:norl:
</pre>
<p><i>Generated by vim2html</i></p>
</div>
</body>
</html>
