<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>VIM: indent</title>
<link rel="stylesheet" href="vim-stylesheet.css" type="text/css">
</head>
<body>
<div id=banner>
<a href="help.html">幫助總覽</a> &middot;
<a href="quickref.html">快速參考</a> &middot;
<a href="index.html">命令索引</a> &middot;
<a href="usr_toc.html">用戶手冊</a> &middot;
<a href="help.html#reference_toc">參考手冊</a>
</div>

<div id=outer>
<h2>indent</h2>
<pre>
<b class="vimtag"> <a name="indent.txt">indent.txt</a> </b>    For Vim version 8.0.  最近更新: 2017年7月


                  <code class="vim">VIM 參考手冊    by Bram Moolenaar</code>
                     <code class="vim">譯者</code>: wandys http://vimcdoc.sf.net


本文討論 C 程序以及其它文件類型的縮進。

1. 縮進 C 風格的程序             <a href="indent.html#C-indenting">C-indenting</a> 
2. 按表達式縮進                  <a href="indent.html#indent-expression">indent-expression</a> 

</pre><hr class="doubleline" /><pre>
<h4>1. 縮進 C 風格的程序                                    <b class="vimtag"> <a name="C-indenting">C-indenting</a> </b></h4>
有關 C 風格的縮進的基本操作請參用戶手冊的  <a href="usr_30.html#30.2">30.2</a> 。

Vim 有很多自動縮進 C 風格程序的選項。不少編程語言，如 Java 和 C++，都和 C 的排
版習慣非常相近。這些選項只對縮進有影響而不處理其他形式的排版。另有一些選項影響
其它類型的排版和縮進，大體可參閱  <a href="change.html#format-comments">format-comments</a> 、 <a href="change.html#fo-table">fo-table</a> 、 <a href="change.html#gq">gq</a>  和
 <a href="change.html#formatting">formatting</a> 。

<code class="note">備註</code> 如果編譯時沒有指定  <a href="various.html#+smartindent">+smartindent</a>  或者  <a href="various.html#+cindent">+cindent</a>  特性，這些選項將不起作
用。

實際上主要有四種可用縮進的方式，如果同時指定或對 <a href="options.html#'indentexpr'">'indentexpr'</a> 而言非空，列於後
者優先於列於前者:
<a href="options.html#'autoindent'">'autoindent'</a>    沿用上一行的縮進。
<a href="options.html#'smartindent'">'smartindent'</a>   類似 <a href="options.html#'autoindent'">'autoindent'</a>，但是可以識別一些 C 語法以能在合適的地方
                增加 / 減少縮進。
<a href="options.html#'cindent'">'cindent'</a>       比上面兩個更聰明；可以設置不同的縮進風格。
<a href="options.html#'indentexpr'">'indentexpr'</a>    最靈活的一個: 根據表達式來計算縮進。若此選項非空，則優先於其它
                選項覆蓋。參見  <a href="indent.html#indent-expression">indent-expression</a> 。
本節下面的內容介紹 <a href="options.html#'cindent'">'cindent'</a> 選項。

<code class="note">注意</code> <a href="options.html#'cindent'">'cindent'</a> 縮進不一定對所有的代碼都起作用。Vim 不是 C 編譯器: 它不能識別出
所有的語法。一個要求是頂層函數必須在第一列中含有 '{'。否則它們容易與聲明混淆。

這四個選項控制 C 程序縮進:
<a href="options.html#'cindent'">'cindent'</a>       使 Vim 對 C 程序自動縮進。
<a href="options.html#'cinkeys'">'cinkeys'</a>       指定在插入模式下按哪個鍵可以再次縮進。
<a href="options.html#'cinoptions'">'cinoptions'</a>    設定你喜好的縮進模式。
<a href="options.html#'cinwords'">'cinwords'</a>      定義在下一行中開始一個額外縮進的關鍵字。

如果 <a href="options.html#'lisp'">'lisp'</a> 選項沒被打開並且 <a href="options.html#'equalprg'">'equalprg'</a> 為空，"=" 操作符將使用 Vim 的內建算法
而不調用外部程序。

若要對 C 文件自動設定 <a href="options.html#'cindent'">'cindent'</a> 選項而在其它文件裡復位，請參考  <a href="autocmd.html#autocommand">autocommand</a> 。

                                        <b class="vimtag"> <a name="cinkeys-format">cinkeys-format</a> </b> <b class="vimtag"> <a name="indentkeys-format">indentkeys-format</a> </b>
<a href="options.html#'cinkeys'">'cinkeys'</a> 選項是這樣的一個字符串: 控制 Vim 在輸入特定字符或是在特定上下文下的
命令後引起的縮進。<code class="note">備註</code> 這不僅僅觸發 C-縮進。 若 <a href="options.html#'indentexpr'">'indentexpr'</a> 非空，將會使用
<a href="options.html#'indentkeys'">'indentkeys'</a> 而不是 <a href="options.html#'cinkeys'">'cinkeys'</a>。<a href="options.html#'cinkeys'">'cinkeys'</a> 和 <a href="options.html#'indentkeys'">'indentkeys'</a> 的格式是一樣的。

其缺省值是 "0<code class="special">{,0}</code>,0),:,0#,!^F,o,O,e"。解釋如下:

        "0{"    如果在該行輸入的第一個字符是 '{'
        "0}"    如果在該行輸入的第一個字符是 '}'
        "0)"    如果在該行輸入的第一個字符是 ')'
        ":"     如果在標號或是 case 語句後輸入 ':'
        "0#"    如果在該行輸入的第一個字符是 '#'
        "!^F"   如果輸入 <code class="keystroke">CTRL-F</code> (它不會被插入)
        "o"     如果輸入 <code class="special">&lt;CR&gt;</code> 或是使用 "o" 命令
        "O"     如果使用 "O" 命令
        "e"     如果輸入處於行首的 "else" 的第二個 'e'

可以加在鍵值前面的字符:                                         <b class="vimtag"> <a name="i_CTRL-F">i_CTRL-F</a> </b>
!       當 '!' 在一個鍵值前面，Vim 將不會插入那個鍵而是將當前行再次縮進。這可
        以用來定義一個再次縮進當前行的鍵。<code class="keystroke">CTRL-F</code> 是缺省的鍵。將 <code class="keystroke">CTRL-I</code> 設定為
        這個鍵時要小心，因為 <code class="keystroke">CTRL-I</code> 用來表示 <code class="special">&lt;Tab&gt;</code> 的 ASCII 碼。

*       當 '*' 在一個鍵值前面，會在插入此鍵之前再次縮進當前行。如果 <a href="options.html#'cinkeys'">'cinkeys'</a>
        包含 "*<code class="special">&lt;Return&gt;</code>"，Vim 在開啟一個新行之前再次縮進當前行。
0       當 '0' 在一個鍵值前面 (但可以在 '!' 或 '*' 後面)，只有當此鍵是該行你輸
        入的第一個字符時，Vim 才再次縮進當前行。如果在 "=" 之前使用，只有當此
        單詞前面全是空白字符時 Vim 才再次縮進當前行。

如果 '!' 和 '*' 都不在鍵值前，Vim 將在你輸入那個鍵後再次縮進當前行。 因此 ';'
觸發一個包含 ';' 本身在內的行的縮進。

特殊鍵:
<code class="special">&lt;&gt;</code>      尖括號表示一個鍵名本身。例如: "<code class="special">&lt;Up&gt;</code>"，"<code class="special">&lt;Ins&gt;</code>" (參見  <a href="intro.html#key-notation">key-notation</a> )。
^       以 '^' 開頭的字符串表示一個控制字符。比如，"^F" 是 <code class="keystroke">CTRL-F</code>。
o       當使用 "o" 命令或是在當前行後開啟一個新行時 (例如，在插入模式輸入
        <code class="special">&lt;Enter&gt;</code> 時) 再次縮進當前行。
O       當使用 "O" 命令時再次縮進當前行。
e       當輸入第二個 'e' 時，再次縮進由 "else" 開頭的行。
:       在一個標號或是 case 語句後輸入 ':' 時，再次縮進當前行；不對 C++ 中的
        "class::method" 這種形式縮進。若要對所有的 ":" 都縮進，使用 "&lt;:&gt;"。
=word   當輸入 "word" 的最後一個字母時再次縮進。"word" 可以是一個單詞的一部
        分。比如當輸入 "endif" 或是 "endwhile" 中的 "d" 時，"=end" 都能引起再
        次縮進。但當輸入 "bend" 時就沒有反應。另外，當補全功能產生了一個以
        "word" 開頭的單詞時也會再次縮進。"0=word" 是當單詞前有空白符時才縮進。
=~word  類似 "=word"，但忽略大小寫。

如果你想在輸入 'o'、'O'、'e'、'0'、'&lt;'、'&gt;'、'*'、':'、 '!' 時產生再次縮進，請
分別使用 "<code class="special">&lt;o&gt;</code>"、"<code class="special">&lt;O&gt;</code>"、"<code class="special">&lt;e&gt;</code>"、"<code class="special">&lt;0&gt;</code>"、"&lt;<code class="special">&lt;&gt;</code>"、"<code class="special">&lt;&gt;</code>&gt;"、"&lt;*&gt;"、"&lt;:&gt;"、"&lt;!&gt;"。

emacs 風格的縮進模式並不是每次輸入 <code class="special">&lt;Enter&gt;</code> 都縮進，而是只在輸入 <code class="special">&lt;Tab&gt;</code> 時才縮
進。對此，我建議使用: 
<code class="example">        :set cinkeys=0{,0},:,0#,!&lt;Tab&gt;,!^F</code>
你也許還需要關掉 <a href="options.html#'autoindent'">'autoindent'</a> 選項。

<code class="note">備註</code>: 如果你手動地改變了當前行的縮進，Vim 會忽略對此行的 cindent (<code class="vim">譯者注</code>: 也包
含 <a href="options.html#'indentexpr'">'indentexpr'</a>) 設定。因此如果你輸入 <code class="special">&lt;BS&gt;</code>、<code class="special">&lt;Tab&gt;</code>、<code class="special">&lt;Space&gt;</code>、<code class="keystroke">CTRL-T</code>、或是
<code class="keystroke">CTRL-D</code> 來改變縮進，Vim 將不會再次縮進。

                                                <b class="vimtag"> <a name="cinoptions-values">cinoptions-values</a> </b>
<a href="options.html#'cinoptions'">'cinoptions'</a> 選項決定 Vim 來如何進行縮進。選項之後的值採用以下形式之一 (N 為
任何數字):
        N       縮進 N 個空格
        -N      向左縮進 N 個空格
        Ns      N 倍 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 個空格
        -Ns     向左 N 倍 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 個空格

在下面的列表中，"N" 表示一個你選擇的數字 (可以為負數)。如果數字後有一個 's'，
Vim 將那個數字乘以 <a href="options.html#'shiftwidth'">'shiftwidth'</a>: "1s" 是 <a href="options.html#'shiftwidth'">'shiftwidth'</a>，"2s" 是 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的
兩倍，以此類推。你也可以使用小數點: "-0.5s" 是 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 一半的負值。
下面的例子假定 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 為 4。
                                                        <b class="vimtag"> <a name="cino-%3E">cino-&gt;</a> </b>
        &gt;N    "一般" 縮進的增加值。在需要增加縮進的行 (比如，以 "if" 或是 "{"
              等開頭的行) 之後使用。(缺省為 <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=               cino=&gt;2             cino=&gt;2s 
<code class="example">                  if (cond)           if (cond)           if (cond)</code>
<code class="example">                  {                   {                   {</code>
<code class="example">                      foo;              foo;                      foo;</code>
<code class="example">                  }                   }                   }</code>

                                                        <b class="vimtag"> <a name="cino-e">cino-e</a> </b>
        eN    當 '{' 在行尾 (End，更準確地，不在行首) 時，相對 <code class="badlink">'一般'</code> 縮進增加
              N 個字符的縮進。如果你想對 '{' 在行首時和 '{' 在行尾時使用不同的
              縮進，這將很有用。(缺省為 0)。

                cino=               cino=e2             cino=e-2 
<code class="example">                  if (cond) {         if (cond) {         if (cond) {</code>
<code class="example">                      foo;                  foo;            foo;</code>
<code class="example">                  }                   }                   }</code>
<code class="example">                  else                else                else</code>
<code class="example">                  {                   {                   {</code>
<code class="example">                      bar;                bar;                bar;</code>
<code class="example">                  }                   }                   }</code>

                                                        <b class="vimtag"> <a name="cino-n">cino-n</a> </b>
        nN    如果一個在 "if"，"while" 等等後面的語句不在 (Not) 大括號內，則相
              對 <code class="badlink">'一般'</code> 縮進增加 N 個字符的縮進。如果你要對語句前有 '{' 和沒有
              '{' 使用不同的縮進，這將很有用。(缺省為 0)。

                cino=               cino=n2             cino=n-2 
<code class="example">                  if (cond)           if (cond)           if (cond)</code>
<code class="example">                      foo;                  foo;            foo;</code>
<code class="example">                  else                else                else</code>
<code class="example">                  {                   {                   {</code>
<code class="example">                      bar;                bar;                bar;</code>
<code class="example">                  }                   }                   }</code>

                                                        <b class="vimtag"> <a name="cino-f">cino-f</a> </b>
        fN    將函數或是其他代碼塊開頭的 '{' 放在第 N 列。這只對不包含於其他大
              括號內並且處於行首的 '{' 起作用。'{' 之後的代碼對它的相對位置不
              變。 (缺省為 0)。

                cino=               cino=f.5s           cino=f1s 
<code class="example">                  func()              func()              func()</code>
<code class="example">                  {                     {                     {</code>
<code class="example">                      int foo;              int foo;              int foo;</code>

                                                        <b class="vimtag"> <a name="cino-{">cino-{</a> </b>
        {N    將 '{' 置於 <code class="badlink">'一般'</code> 縮進後 N 個字符的位置。這只對包括在其他大括號
              內的 '{' 起作用。(缺省為 0)。

                cino=               cino={.5s           cino={1s 
<code class="example">                  if (cond)           if (cond)           if (cond)</code>
<code class="example">                  {                     {                     {</code>
<code class="example">                      foo;                foo;                foo;</code>

                                                        <b class="vimtag"> <a name="cino-}">cino-}</a> </b>
        }N    將 '}' 放在與之匹配的 '{' 之後 N 個字符處。(缺省為 0)。

                cino=               cino=<code class="special">{2,}</code>-0.5s      cino=}2 
<code class="example">                  if (cond)           if (cond)           if (cond)</code>
<code class="example">                  {                     {                 {</code>
<code class="example">                      foo;                foo;                foo;</code>
<code class="example">                  }                   }                     }</code>

                                                        <b class="vimtag"> <a name="cino-^">cino-^</a> </b>
        ^N    如果 '{' 在第 0 列，則對其包含的語句增加相對 <code class="badlink">'一般'</code> 縮進 N 個字
              符的縮進。這可以對整個函數設定一個不同的縮進。(有人喜歡將其設成
              負數)。(缺省為 0)。

                cino=               cino=^-2            cino=^-s 
<code class="example">                  func()              func()              func()</code>
<code class="example">                  {                   {                   {</code>
<code class="example">                      if (cond)         if (cond)         if (cond)</code>
<code class="example">                      {                 {                 {</code>
<code class="example">                          a = b;            a = b;            a = b;</code>
<code class="example">                      }                 }                 }</code>
<code class="example">                  }                   }                   }</code>

                                                        <b class="vimtag"> <a name="cino-L">cino-L</a> </b>
        LN    控制跳轉標籤的放置。如果 N 為負，標籤放在第一列上。如果 N 非負，
              標籤的縮進位置為 <code class="badlink">'一般'</code> 縮進位置減去 N。(缺省為 -1)。

                cino=               cino=L2             cino=Ls 
<code class="example">                  func()              func()              func()</code>
<code class="example">                  {                   {                   {</code>
<code class="example">                      {                   {                   {</code>
<code class="example">                          stmt;               stmt;               stmt;</code>
<code class="example">                  LABEL:                    LABEL:            LABEL:</code>
<code class="example">                      }                   }                   }</code>
<code class="example">                  }                   }                   }</code>

                                                        <b class="vimtag"> <a name="cino-:">cino-:</a> </b>
        :N    將 case 標號放在 switch() 縮進位置之後的 N 個字符處。(缺省為
              <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=               cino=:0 
<code class="example">                  switch (x)          switch(x)</code>
<code class="example">                  {                   {</code>
<code class="example">                      case 1:         case 1:</code>
<code class="example">                          a = b;          a = b;</code>
<code class="example">                      default:        default:</code>
<code class="example">                  }                   }</code>

                                                        <b class="vimtag"> <a name="cino-%20">cino-=</a> </b>
        =N    將 case 標號之後的語句放在標號縮進位置之後的 N 個字符處。(缺省為
              <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=               cino==10 
<code class="example">                   case 11:             case 11:  a = a + 1;</code>
<code class="example">                       a = a + 1;                 b = b + 1;</code>

                                                        <b class="vimtag"> <a name="cino-l">cino-l</a> </b>
        lN    如果 N 不為 0，Vim 將會和 case 標號對齊，而不是和同一行其後的語
              句對齊。

                cino=                       cino=l1 
<code class="example">                    switch (a) {              switch (a) {</code>
<code class="example">                        case 1: {                 case 1: {</code>
<code class="example">                                    break;            break;</code>
<code class="example">                                }                 }</code>

                                                        <b class="vimtag"> <a name="cino-b">cino-b</a> </b>
        bN    如果 N 不為 0，Vim 會將最後的 "break" 和 case 標號對齊，這樣
              case..break 看起來有點像一個代碼塊。(缺省為 0)。
              使用 1 時，考慮在 <a href="options.html#'cinkeys'">'cinkeys'</a> 中加入 "0=break"。

                cino=               cino=b1 
<code class="example">                  switch (x)          switch(x)</code>
<code class="example">                  {                   {</code>
<code class="example">                      case 1:             case 1:</code>
<code class="example">                          a = b;              a = b;</code>
<code class="example">                          break;          break;</code>
<code class="example"></code>
<code class="example">                      default:            default:</code>
<code class="example">                          a = 0;              a = 0;</code>
<code class="example">                          break;          break;</code>
<code class="example">                  }                   }</code>

                                                        <b class="vimtag"> <a name="cino-g">cino-g</a> </b>
        gN    將 C++ 作用域聲明置於其所在代碼塊的 N 個字符後。(缺省為
              <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。作用域聲明可以是 "public:"， "protected:" 或者
              "private:"。

                cino=               cino=g0 
<code class="example">                  {                   {</code>
<code class="example">                      public:         public:</code>
<code class="example">                          a = b;          a = b;</code>
<code class="example">                      private:        private:</code>
<code class="example">                  }                   }</code>

                                                        <b class="vimtag"> <a name="cino-h">cino-h</a> </b>
        hN    將 C++ 作用域聲明後面的語句置於對應標號的 N 個字符後。 (缺省為
              <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=               cino=h10 
<code class="example">                   public:              public:   a = a + 1;</code>
<code class="example">                       a = a + 1;                 b = b + 1;</code>

                                                        <b class="vimtag"> <a name="cino-N">cino-N</a> </b>
        NN     C++ namespace 之內的相對普通塊的額外縮進 N 個字符。(缺省為 0)。

                cino=                      cino=N-s 
<code class="example">                  namespace {                namespace {</code>
<code class="example">                      void function();       void function();</code>
<code class="example">                  }                          }</code>
<code class="example"></code>
<code class="example">                  namespace my               namespace my</code>
<code class="example">                  {                          {</code>
<code class="example">                      void function();       void function();</code>
<code class="example">                  }                          }</code>

                                                        <b class="vimtag"> <a name="cino-E">cino-E</a> </b>
        EN    C++  鏈接性聲明 (extern "C" 或 externa "C++") 之內的相對普通塊的
              額外縮進 N 個字符。(缺省為 0)。

                cino=                      cino=E-s 
<code class="example">                  extern "C" {               extern "C" {</code>
<code class="example">                      void function();       void function();</code>
<code class="example">                  }                          }</code>
<code class="example"></code>
<code class="example">                  extern "C"                 extern "C"</code>
<code class="example">                  {                          {</code>
<code class="example">                      void function();       void function();</code>
<code class="example">                  }                          }</code>

                                                        <b class="vimtag"> <a name="cino-p">cino-p</a> </b>
        pN    在 K&amp;R 形式的函數聲明中，將參數的聲明放在 N 個字符的相對位置。
              (缺省為 <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=               cino=p0             cino=p2s 
<code class="example">                  func(a, b)          func(a, b)          func(a, b)</code>
<code class="example">                      int a;          int a;                      int a;</code>
<code class="example">                      char b;         char b;                     char b;</code>

                                                        <b class="vimtag"> <a name="cino-t">cino-t</a> </b>
        tN    將函數返回值類型聲明放在 N 個字符的相對位置。(缺省為
              <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=               cino=t0             cino=t7 
<code class="example">                      int             int                        int</code>
<code class="example">                  func()              func()              func()</code>

                                                        <b class="vimtag"> <a name="cino-i">cino-i</a> </b>
        iN    縮進 C++ 的基類聲明和構造函數初始化部分，如果它們處於行首 (否
              則，它們對齊在 ':' 的右側)。(缺省為 <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=                     cino=i0 
<code class="example">                  class MyClass :           class MyClass :</code>
<code class="example">                      public BaseClass      public BaseClass</code>
<code class="example">                  {}                        {}</code>
<code class="example">                  MyClass::MyClass() :      MyClass::MyClass() :</code>
<code class="example">                      BaseClass(3)          BaseClass(3)</code>
<code class="example">                  {}                        {}</code>

                                                        <b class="vimtag"> <a name="cino-+">cino-+</a> </b>
        +N    函數之內的續行 (在下一行繼續的行) 縮進增加額外的 N 個字符。(缺省
              為 <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。
              函數之外，如果前行以反斜槓結尾，使用 2 * N。

                cino=                     cino=+10 
<code class="example">                  a = b + 9 *               a = b + 9 *</code>
<code class="example">                      c;                              c;</code>

                                                        <b class="vimtag"> <a name="cino-c">cino-c</a> </b>
        cN    如果沒有其它文本可供對齊的話，註釋頭部 (<code class="vim">譯者注</code>: /*) 之後的註釋行
              相對註釋頭部 N 個字符的縮進。(缺省為 3)。
              參見  <a href="change.html#format-comments">format-comments</a> 。

                cino=                     cino=c5 
<code class="example">                  /*                        /*</code>
<code class="example">                     text.                       text.</code>
<code class="example">                   */                        */</code>

                                                        <b class="vimtag"> <a name="cino-C">cino-C</a> </b>
        CN    如果 N 非零，像上面 c 選項一樣對註釋縮進，即使 /* 後面還有其他文
              字也是如此。

                cino=c0                   cino=c0,C1 
<code class="example">                  /********                 /********</code>
<code class="example">                    text.                   text.</code>
<code class="example">                  ********/                 ********/</code>
              (示例使用了 ":set comments&amp; comments-=s1:/* comments^=s0:/*")

                                                        <b class="vimtag"> <a name="cino-%2F">cino-/</a> </b>
        /N    將註釋行增加額外的縮進 N 個字符。(缺省為 0)。
                cino=                     cino=/4 
<code class="example">                  a = b;                    a = b;</code>
<code class="example">                  /* comment */                 /* comment */</code>
<code class="example">                  c = d;                    c = d;</code>

                                                        <b class="vimtag"> <a name="cino-(">cino-(</a> </b>
        (N    在沒有結束的括號內，相對沒有結束的括號所在行進行 N 個字符的縮
              進。對每一個沒有結束的括號增加 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的縮進。如果 N 為
              0，或沒有結束的括號是其所在行的首個非空白字符，和括號之後下一個
              非空白字符對齊。(缺省為 <a href="options.html#'shiftwidth'">'shiftwidth'</a> * 2)。

                cino=                     cino=(0 
<code class="example">                  if (c1 &amp;&amp; (c2 ||          if (c1 &amp;&amp; (c2 ||</code>
<code class="example">                              c3))                     c3))</code>
<code class="example">                      foo;                      foo;</code>
<code class="example">                  if (c1 &amp;&amp;                 if (c1 &amp;&amp;</code>
<code class="example">                          (c2 || c3))           (c2 || c3))</code>
<code class="example">                     {                         {</code>

                                                        <b class="vimtag"> <a name="cino-u">cino-u</a> </b>
        uN    和 (N 一樣，但更深一級。(缺省為 <a href="options.html#'shiftwidth'">'shiftwidth'</a>)。

                cino=                     cino=u2 
<code class="example">                  if (c123456789            if (c123456789</code>
<code class="example">                          &amp;&amp; (c22345                &amp;&amp; (c22345</code>
<code class="example">                              || c3))                 || c3))</code>

                                                        <b class="vimtag"> <a name="cino-U">cino-U</a> </b>
        UN    如果 N 非零，即使沒結束的括號是所在行的首個非空白字符，也不忽略
              ( 或是 u 指定的縮進。(缺省為 0)。

                cino= 或 cino=(s          cino=(s,U1 
<code class="example">                  c = c1 &amp;&amp;                 c = c1 &amp;&amp;</code>
<code class="example">                      (                         (</code>
<code class="example">                       c2 ||                        c2 ||</code>
<code class="example">                       c3                           c3</code>
<code class="example">                      ) &amp;&amp; c4;                  ) &amp;&amp; c4;</code>

                                                        <b class="vimtag"> <a name="cino-w">cino-w</a> </b>
        wN    如果 N 非零，在沒有結束的括號內如果使用 "(0" 或是 "u0"，或當沒有
              結束的括號是所在行的首個非空白字符但使用 "U0" 時，對齊使用的是緊
              隨在沒有結束括號之後的字符，而不一定是其後首個非空白字符。
              (缺省為 0)。

                cino=(0                   cino=(0,w1 
<code class="example">                  if (   c1                 if (   c1</code>
<code class="example">                         &amp;&amp; (   c2              &amp;&amp; (   c2</code>
<code class="example">                                || c3))             || c3))</code>
<code class="example">                      foo;                      foo;</code>

                                                        <b class="vimtag"> <a name="cino-W">cino-W</a> </b>
        WN    如果 N 非零，在沒有結束的括號內如果使用 "(0" 或是 "u0" 且當沒有
              結束的括號是所在行的最後一個非空白字符且不是閉括號時，下一行相對
              外部代碼塊 (比如，行首或是下一層沒結束的括號) 縮進 N 個字符。
              (缺省為 0)。

                cino=(0                    cino=(0,W4 
<code class="example">                  a_long_line(              a_long_line(</code>
<code class="example">                              argument,         argument,</code>
<code class="example">                              argument);        argument);</code>
<code class="example">                  a_short_line(argument,    a_short_line(argument,</code>
<code class="example">                               argument);                argument);</code>

                                                        <b class="vimtag"> <a name="cino-k">cino-k</a> </b>
        kN    在 "if"、"for" 或 "while" 之後沒有結束的括號內且 N 非零時，覆蓋
              "(N" 定義的行為: 相對外層上下文 (即 "if"、"for" 或 "while" 所在
              行) 縮進 N 個字符。對更深層的嵌套沒有影響。影響 "wN" 等標誌位的
              行為，但僅限於 "if"、"for" 和 "while" 條件。0 值對應的缺省是
              "(N" 標誌位定義的行為。(缺省為 0)。

                cino=(0                    cino=(0,ks 
<code class="example">                  if (condition1            if (condition1</code>
<code class="example">                      &amp;&amp; condition2)                &amp;&amp; condition2)</code>
<code class="example">                      action();                 action();</code>
<code class="example">                  function(argument1        function(argument1</code>
<code class="example">                           &amp;&amp; argument2);            &amp;&amp; argument2);</code>

                                                        <b class="vimtag"> <a name="cino-m">cino-m</a> </b>
        mN    如果 N 非零，則將 ')' 開始的行和與其匹配的 '(' 所在行的第一個字
              符對齊。(缺省為 0)。

                cino=(s                   cino=(s,m1 
<code class="example">                  c = c1 &amp;&amp; (               c = c1 &amp;&amp; (</code>
<code class="example">                      c2 ||                     c2 ||</code>
<code class="example">                      c3                        c3</code>
<code class="example">                      ) &amp;&amp; c4;              ) &amp;&amp; c4;</code>
<code class="example">                  if (                      if (</code>
<code class="example">                      c1 &amp;&amp; c2                  c1 &amp;&amp; c2</code>
<code class="example">                     )                      )</code>
<code class="example">                      foo;                      foo;</code>

                                                        <b class="vimtag"> <a name="cino-M">cino-M</a> </b>
        MN    如果 N 非零，則將 ')' 開始的行與前一行的第一個字符對齊。
              (缺省為 0)。

                cino=                     cino=M1 
<code class="example">                  if (cond1 &amp;&amp;              if (cond1 &amp;&amp;</code>
<code class="example">                         cond2                     cond2</code>
<code class="example">                     )                             )</code>

                                <b class="vimtag"> <a name="java-cinoptions">java-cinoptions</a> </b> <b class="vimtag"> <a name="java-indenting">java-indenting</a> </b> <b class="vimtag"> <a name="cino-j">cino-j</a> </b>
        jN    正確地縮進 Java 匿名類，也適用於 Javascript。目前，'N' 的值並沒
              有用到但其不能為 0 (比如 <code class="badlink">'j1'</code>)。<code class="badlink">'j1'</code> 將對下面的代碼段這樣正確的
              縮進: 
<code class="example"></code>
<code class="example">                object.add(new ChangeListener() {</code>
<code class="example">                    public void stateChanged(ChangeEvent e) {</code>
<code class="example">                        do_something();</code>
<code class="example">                    }</code>
<code class="example">                });</code>

                        <b class="vimtag"> <a name="javascript-cinoptions">javascript-cinoptions</a> </b> <b class="vimtag"> <a name="javascript-indenting">javascript-indenting</a> </b> <b class="vimtag"> <a name="cino-J">cino-J</a> </b>
        JN    正確縮進 JavaScript 對像聲明，不把它錯誤地當成標籤。目前 'N' 的
              值並沒有用到但不能為 0 (比如 <code class="badlink">'J1'</code>). 要打開之，也應考慮同時打開
               <a href="indent.html#cino-j">cino-j</a> 。 
<code class="example"></code>
<code class="example">                var bar = {</code>
<code class="example">                    foo: {</code>
<code class="example">                        that: this,</code>
<code class="example">                        some: ok,</code>
<code class="example">                    },</code>
<code class="example">                    "bar":{</code>
<code class="example">                        a : 2,</code>
<code class="example">                        b: "123abc",</code>
<code class="example">                        x: 4,</code>
<code class="example">                        "y": 5</code>
<code class="example">                    }</code>
<code class="example">                }</code>

                                                                <b class="vimtag"> <a name="cino-)">cino-)</a> </b>
        )N    Vim 最多在 N 行範圍內查找沒有結束的括號。這將縮小 Vim 用來查找
              括號的時間。(缺省 20 行)。

                                                                <b class="vimtag"> <a name="cino-star">cino-star</a> </b>
        *N    Vim 最多在 N 行範圍內查找沒有結束的註釋。這將縮小 Vim 用來查找
              註釋頭部的時間。
              如果你的 /* * / 註釋在 N 行後停止縮進，這裡就是你要改的地方。
              (缺省 70 行)。

                                                                <b class="vimtag"> <a name="cino-%23">cino-#</a> </b>
        #N    如果 N 非零，識別 shell/Perl 風格 # 開頭的註釋，不識別預處理命令
              行；允許以 "#" 開頭的行的右移。
              如果 N 為零 (缺省): 不識別 '#' 註釋，但識別預處理命令行；不允許
              以 "#" 開頭的行右移。


全部的缺省值是:
        cinoptions=&gt;s,e0,n0,f0,<code class="special">{0,}</code>0,^0,L-1,:s,=s,l0,b0,gs,hs,N0,E0,ps,ts,is,+s,
                        c3,C0,/0,(2s,us,U0,w0,W0,k0,m0,j0,J0,)20,*70,#0

Vim 將一行從第一列開始，如果:
- 它以 '#' 開頭 (預處理指令)，並且 <a href="options.html#'cinkeys'">'cinkeys'</a> 包含 '#0'。
- 它以一個標號 (後面跟隨一個 ':' 的關鍵字，除了 "case" 或 "default" 以外) 開
  頭，並且 <a href="options.html#'cinoptions'">'cinoptions'</a> 不包含使用正數值的 'L' 項目。
- 任何縮進的組合使這一行產生小於 0 的縮進。

</pre><hr class="doubleline" /><pre>
<h4>2. 按表達式縮進                                         <b class="vimtag"> <a name="indent-expression">indent-expression</a> </b></h4>
關於靈活縮進的一些基本知識在用戶手冊的  <a href="usr_30.html#30.3">30.3</a>  有解釋。

如果你要寫一個自己的縮進文件，它必須設定 <a href="options.html#'indentexpr'">'indentexpr'</a> 選項。設定 <a href="options.html#'indentkeys'">'indentkeys'</a>
也經常有用。$VIMRUNTIME/indent 目錄下有例子可以參考。


<code class="section">特 定 縮 進 文 件 的 若 干 評 注 </code>


CLOJURE                                 <b class="vimtag"> <a name="ft-clojure-indent">ft-clojure-indent</a> </b> <b class="vimtag"> <a name="clojure-indent">clojure-indent</a> </b>

Clojure 的縮進和傳統的 Lisp 有所不同，部分由於方括號和尖括號的使用，還有部分是
社群習慣的差異。這些慣例又不是普遍遵循的。因為這樣，Closure 縮進腳本提供了若干
可配置的選項，如下所述。

如果當前的 vim 不支持 searchpairpos()，縮進腳本回到普通 <a href="options.html#'lisp'">'lisp'</a> 縮進方式並忽略
以下所述的選項。

                                                        <b class="vimtag"> <a name="g:clojure_maxlines">g:clojure_maxlines</a> </b>

設置 searchpairpos() 的最大檢索距離。較大的值犧牲性能以換取處理更長表達式
(form) 的正確性。0 會使檢索沒有限制。

<code class="example">        " 缺省</code>
<code class="example">        let g:clojure_maxlines = 100</code>

                                                <b class="vimtag"> <a name="g:clojure_fuzzy_indent">g:clojure_fuzzy_indent</a> </b>
                                        <b class="vimtag"> <a name="g:clojure_fuzzy_indent_patterns">g:clojure_fuzzy_indent_patterns</a> </b>
                                        <b class="vimtag"> <a name="g:clojure_fuzzy_indent_blacklist">g:clojure_fuzzy_indent_blacklist</a> </b>

<a href="options.html#'lispwords'">'lispwords'</a> 選項是一個逗號分隔的單詞列表，指定那些需要以兩個空格縮進子表達式的
特殊表達式。

例如:

<code class="example">        (defn bad []</code>
<code class="example">              "錯誤的縮進")</code>
<code class="example"></code>
<code class="example">        (defn good []</code>
<code class="example">          "正確的縮進")</code>

如果想用  <a href="pattern.html#pattern">pattern</a>  來代替 <a href="options.html#'lispwords'">'lispwords'</a>，可用模糊縮進功能:

<code class="example">        " 縮進</code>
<code class="example">        let g:clojure_fuzzy_indent = 1</code>
<code class="example">        let g:clojure_fuzzy_indent_patterns = ['^with', '^def', '^let']</code>
<code class="example">        let g:clojure_fuzzy_indent_blacklist =</code>
<code class="example">                \ ['-fn$', '\v^with-%(meta|out-str|loading-context)$']</code>
<code class="example"></code>
<code class="example">        " 舊式的逗號分隔字符串版本；建議採用上面的列表格式。注意這裡的模式總是</code>
<code class="example">        " 隱含假定以 ^ 開始，以 $ 結束</code>
<code class="example">        let g:clojure_fuzzy_indent_patterns = 'with.*,def.*,let.*'</code>

 <a href="indent.html#g:clojure_fuzzy_indent_patterns">g:clojure_fuzzy_indent_patterns</a>  和  <a href="indent.html#g:clojure_fuzzy_indent_blacklist">g:clojure_fuzzy_indent_blacklist</a>  是模式
的列表  <a href="eval.html#Lists">Lists</a> ，用於匹配 Lisp 列表 (list) 的頭部去掉引號和限定詞部分的符號。這
意味著形如 "^foo" 的模式會匹配以下的候選: "foobar"、"my.ns/foobar" 和
"#'foobar"。

每個候選詞會以下列順序進行是否需要特殊處理的測試:

        1. 若單詞按本義出現在 <a href="options.html#'lispwords'">'lispwords'</a> 中，返回真
        2. 若單詞匹配  <a href="indent.html#g:clojure_fuzzy_indent_blacklist">g:clojure_fuzzy_indent_blacklist</a>  中的某個模式，返回假
        3. 若單詞匹配  <a href="indent.html#g:clojure_fuzzy_indent_patterns">g:clojure_fuzzy_indent_patterns</a>  中的某個模式，返回真
        4. 否則返回假，按正常方式縮進

                                        <b class="vimtag"> <a name="g:clojure_special_indent_words">g:clojure_special_indent_words</a> </b>

有些 Closure 的表達式的縮進方式要求每個子表達式只縮進兩格，不管 <a href="options.html#'lispwords'">'lispwords'</a>
如何設置。如果你有要求這種獨特的縮進方式的結構，可以把相應的符號加入下面的缺省
列表。

<code class="example">        " 缺省</code>
<code class="example">        let g:clojure_special_indent_words =</code>
<code class="example">           \ 'deftype,defrecord,reify,proxy,extend-type,extend-protocol,letfn'</code>

                                        <b class="vimtag"> <a name="g:clojure_align_multiline_strings">g:clojure_align_multiline_strings</a> </b>

多行字符串的後續行和引導引號之後的列對齊，而不是對齊與同一列。

示例:

<code class="example">        (def default</code>
<code class="example">          "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do</code>
<code class="example">          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut</code>
<code class="example">          enim ad minim veniam, quis nostrud exercitation ullamco laboris</code>
<code class="example">          nisi ut aliquip ex ea commodo consequat.")</code>
<code class="example"></code>
<code class="example">        (def aligned</code>
<code class="example">          "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do</code>
<code class="example">           eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut</code>
<code class="example">           enim ad minim veniam, quis nostrud exercitation ullamco laboris</code>
<code class="example">           nisi ut aliquip ex ea commodo consequat.")</code>

缺省關閉此選項。

<code class="example">        " 缺省</code>
<code class="example">        let g:clojure_align_multiline_strings = 0</code>

                                                <b class="vimtag"> <a name="g:clojure_align_subforms">g:clojure_align_subforms</a> </b>

缺省括號內的復合表達式以函數調用形式出現，頭部子表達式在單獨一行上，後續的子表
達式則相對開括號縮進 2 個空格:

<code class="example">        (foo</code>
<code class="example">          bar</code>
<code class="example">          baz)</code>

置位此選項改變此行為，使得所有的子表達式在同一列對齊，這模擬了 clojure-mode.el
的缺省行為:

<code class="example">        (foo</code>
<code class="example">         bar</code>
<code class="example">         baz)</code>

缺省關閉此選項。

<code class="example">        " Default</code>
<code class="example">        let g:clojure_align_subforms = 0</code>


FORTRAN                                                 <b class="vimtag"> <a name="ft-fortran-indent">ft-fortran-indent</a> </b>

Block if、select case、where 和 forall 代碼塊被縮進。type、interface、
associate、block 和 enum 結構也是。subrountine、function、module 和 program
block 的縮進可選。如果 Fortran 在自由格式下，註釋，標號語句和續行被縮進；如果
在固定寬度格式下，這些就不會被縮進，因為左邊必須要求留出空白。因此，在固定寬度
格式下，需要手動對標號語句和續行縮進。關於檢測源碼格式的更深入討論，參見
 <a href="syntax.html#ft-fortran-syntax">ft-fortran-syntax</a> 。

<code class="section">do 循環 </code>
缺省情況下，所有的 do 循環保持原樣，不縮進。在 Fortran 裡，循環甚至是多重循環
可以結束於一個任意類型的帶標號可執行語句，使得 do 循環非結構化。對其正確的縮進
需要編譯器級別的語法分析。對於這樣 do 循環結束於任意類型的帶標號語句的老式代碼
可以使用 Tidy (http://www.unb.ca/chem/ajit/f_tidy.htm) 等專門的程序縮進。結構
化的 do/continue 循環也保持不縮進，因為 continue 除了結束 do 循環以外還有其它
的用途。Tidy 可以將結構化的 do/continue 循環轉換成 do/enddo 的形式。do/enddo
類型的循環能被縮進。如果你只使用結構化的 do/enddo 形式的循環，可以在 .vimrc 中
作如下聲明: 
<code class="example"></code>
<code class="example">   let fortran_do_enddo=1</code>
<code class="example"></code>
這樣 do 循環就被縮進了。如果只是在比如 .f90 文件裡，你的所有循環都是 do/enddo
形式，那麼可以像下面一樣用自動命令設置一個緩衝區標誌位 
<code class="example"></code>
<code class="example">  au! BufRead,BufNewFile *.f90 let b:fortran_do_enddo=1</code>
<code class="example"></code>
使 .f90 文件裡的 do 循環被縮進而在其它擴展名裡，比如 .for 文件中不被縮進。

<code class="section">程序單元 </code>
缺省打開程序單元 (subrountine、function、module 和 program block) 的縮進，如果
需要輕量級的節省屏幕寬度的縮進風格，可以關閉之。要關閉所有 fortran 文件的程序
單元的縮進，在 .vimrc 裡設置全局變量 fortran_indent_less 
<code class="example"></code>
<code class="example">  let fortran_indent_less=1</code>
<code class="example"></code>
要更精細的控制，可以設置對應的緩衝區局部變量 
<code class="example"></code>
<code class="example">  let b:fortran_indent_less=1</code>
<code class="example"></code>
<code class="example"></code>
HTML                            <b class="vimtag"> <a name="ft-html-indent">ft-html-indent</a> </b> <b class="vimtag"> <a name="html-indent">html-indent</a> </b> <b class="vimtag"> <a name="html-indenting">html-indenting</a> </b>

這裡說明定制 HTML 縮進的相關變量，可以把它們放到你的 vimrc 裡。

可以設置 <code class="special">&lt;script&gt;</code> 和 <code class="special">&lt;style&gt;</code> 這些 "區塊標籤" 之後的首行縮進 (缺省為 "zero"): 
<code class="example"></code>
<code class="example">      :let g:html_indent_script1 = "inc"</code>
<code class="example">      :let g:html_indent_style1 = "inc"</code>

<code class="section">      值        含義 </code>
      "zero"    零縮進
      "auto"    自動縮進 (和匹塊標籤相同的縮進)
      "inc"     自動縮進 + 一個縮進位置

缺省，給許多標籤之後的內容增加縮進 (見腳本裡的 "Add Indent Tags")。可以加入更
多類似的標籤: 
<code class="example"></code>
<code class="example">      :let g:html_indent_inctags = "html,body,head,tbody"</code>
<code class="example"></code>
還可以刪除已有的標籤: 
<code class="example"></code>
<code class="example">      :let g:html_indent_autotags = "th,td,tr,tfoot,thead"</code>
<code class="example"></code>
這兩個變量的缺省值為空。<code class="note">注意</code>: 初始的 "inctags" 值只在每個 Vim 會話中定義一次。

只在腳本執行時讀入這些用戶變量。要在會話中間執行更改，除了重載 HTML 文件外，可
以手動調用: 
<code class="example"></code>
<code class="example">      :call HtmlIndent_CheckUserSettings()</code>
<code class="example"></code>
細節:
  "區塊標籤" 內的縮進的計算，有些 "外來的" 內容:
<code class="section">      區域標籤   縮進表達式         適用情況 </code>
      <code class="special">&lt;script&gt;</code> : <code class="special">{可定制}</code>           如果是區塊的首行
               : cindent(v:lnum)    如果沒有屬性或其中包含 "java"
               : -1                 否則 (vbscript、tcl、...)
      <code class="special">&lt;style&gt;</code>  : <code class="special">{可定制}</code>           如果是區塊的首行
               : GetCSSIndent()     否則
      &lt;!-- --&gt; : -1


PHP                             <b class="vimtag"> <a name="ft-php-indent">ft-php-indent</a> </b> <b class="vimtag"> <a name="php-indent">php-indent</a> </b> <b class="vimtag"> <a name="php-indenting">php-indenting</a> </b>

<code class="note">注意</code>:   只有激活 PHP 語法  <a href="syntax.html#syntax">syntax</a>  才能正確縮進 PHP 文件。

如果在 Unix <a href="options.html#'fileformat'">'fileformat'</a> 下編輯文件而換行符之前有 '\r' 字符，縮進的處理會不正
確。需要先去除這些沒有的字符。例如可用: 
<code class="example"></code>
<code class="example">    :%s /\r$//g</code>
<code class="example"></code>
或者，你可以簡單地  <a href="eval.html#:let">:let</a>  變量 PHP_removeCRwhenUnix 為 1，腳本會在 Vim 載入
PHP 文件 (每次  <a href="autocmd.html#BufRead">BufRead</a> ) 時安靜地刪除它們。

<code class="section">選項: </code>

PHP 縮進可以通過修改若干全局變量的值來對幾個方面進行改變:

                                        <b class="vimtag"> <a name="php-comment">php-comment</a> </b> <b class="vimtag"> <a name="PHP_autoformatcomment">PHP_autoformatcomment</a> </b>
要缺省不打開註釋的自動排版 (如果要使用自己的 <a href="options.html#'formatoptions'">'formatoptions'</a> 的話): 
<code class="example">    :let g:PHP_autoformatcomment = 0</code>
<code class="example"></code>
否則，'t' 會從 <a href="options.html#'formatoptions'">'formatoptions'</a> 字符串中去除，並加上 "qrowcb"，詳見
 <a href="change.html#fo-table">fo-table</a> 。
</pre><hr class="singleline" /><pre>

                                                        <b class="vimtag"> <a name="PHP_outdentSLComments">PHP_outdentSLComments</a> </b>
要給單行註釋增加額外的縮進: 
<code class="example">    :let g:PHP_outdentSLComments = N</code>
<code class="example"></code>
其中的 N 是要增加的 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的倍數。

只影響如下所示的單行註釋: 
<code class="example">    # Comment</code>
<code class="example">    // Comment</code>
<code class="example">    /* Comment */</code>
</pre><hr class="singleline" /><pre>

                                                        <b class="vimtag"> <a name="PHP_default_indenting">PHP_default_indenting</a> </b>
要給所有 PHP 行增加額外的縮進 N 個 <a href="options.html#'shiftwidth'">'shiftwidth'</a>: 
<code class="example">    :let g:PHP_default_indenting = N</code>
<code class="example"></code>
例如，如果 N = 1:

<code class="example">    &lt;?php</code>
<code class="example">        if (!isset($History_lst_sel))</code>
<code class="example">            if (!isset($History_lst_sel))</code>
<code class="example">                if (!isset($History_lst_sel)) {</code>
<code class="example">                    $History_lst_sel=0;</code>
<code class="example">                } else</code>
<code class="example">                    $foo="bar";</code>
<code class="example"></code>
<code class="example">        $command_hist = TRUE;</code>
<code class="example">    ?&gt;</code>
(<code class="note">注意</code> PHP 標識符和它包含的代碼之間額外的縮進)
</pre><hr class="singleline" /><pre>

                                                        <b class="vimtag"> <a name="PHP_outdentphpescape">PHP_outdentphpescape</a> </b>
要使 PHP 標籤和和包圍它的非 PHP 代碼使用相同的縮進 (只影響 PHP 轉義標籤): 
:let g:PHP_outdentphpescape = 0
</pre><hr class="singleline" /><pre>

                                                        <b class="vimtag"> <a name="PHP_removeCRwhenUnix">PHP_removeCRwhenUnix</a> </b>
要在 <a href="options.html#'fileformat'">'fileformat'</a> 設為 Unix 時自動刪除 '\r' 字符: 
<code class="example">    :let g:PHP_removeCRwhenUnix = 1</code>
</pre><hr class="singleline" /><pre>

                                                        <b class="vimtag"> <a name="PHP_BracesAtCodeLevel">PHP_BracesAtCodeLevel</a> </b>
要使花括號的縮進和其包含的代碼相同: 
<code class="example">    :let g:PHP_BracesAtCodeLevel = 1</code>
<code class="example"></code>
給出的結果會變成: 
<code class="example">    if ($foo)</code>
<code class="example">        {</code>
<code class="example">        foo();</code>
<code class="example">        }</code>
而不是: 
<code class="example">    if ($foo)</code>
<code class="example">    {</code>
<code class="example">        foo();</code>
<code class="example">    }</code>
<code class="example"></code>
<code class="note">注意</code>:   如果使用此選項，縮進可能會稍慢一些，因為無法使用若干優化。
</pre><hr class="singleline" /><pre>

                                                        <b class="vimtag"> <a name="PHP_vintage_case_default_indent">PHP_vintage_case_default_indent</a> </b>
要縮進 switch() 塊的 'case:' 和 'default:' 語句: 
<code class="example">    :let g:PHP_vintage_case_default_indent = 1</code>
<code class="example"></code>
PHP 中 'case/default' 塊並非必須使用花括號，因此，'case:' 和 'default:' 和
'switch()' 的縮進層次相同，以避免不必要的縮進。可用上述的選項來恢復傳統的縮進
方式。


PYTHON                                                  <b class="vimtag"> <a name="ft-python-indent">ft-python-indent</a> </b>

可以為以下情形設置不同的縮進值。下面所舉的例子給出其缺省值。<code class="note">注意</code> 這些變量用表
達式賦值，所以你以後可以改變 <a href="options.html#'shiftwidth'">'shiftwidth'</a> 的值來改變此變量。

在 "(" 後的縮進: 
<code class="example">        let g:pyindent_open_paren = '&amp;sw * 2'</code>
在嵌套的括號後的縮進: 
<code class="example">        let g:pyindent_nested_paren = '&amp;sw'</code>
續行的縮進: 
<code class="example">        let g:pyindent_continue = '&amp;sw * 2'</code>
<code class="example"></code>
<code class="example"></code>
R                                                               <b class="vimtag"> <a name="ft-r-indent">ft-r-indent</a> </b>

函數參數如果跨越多行，會進行對齊。如果不想函數參數進行對齊，在  <a href="starting.html#vimrc">vimrc</a>  裡放入:

<code class="example">   let r_indent_align_args = 0</code>

所有註釋字符 # 開始的行和正常 R 代碼採用相同的縮進級別。Emacs/ESS 的用戶可能習
慣單個 # 的縮進於第 40 列，而 ## 以正常 R 代碼方式縮進，### 不縮進。 如果你習
慣 Emacs/ESS 的註釋對齊方式，在  <a href="starting.html#vimrc">vimrc</a>  裡放入:

<code class="example">   let r_indent_ess_comments = 1</code>

要單個 # 開始行的對齊不在第 40 列，給 r_indent_common_column 設置一個新值，如
下例所示:

<code class="example">   let r_indent_comment_column = 30</code>

縮進所有以 "&lt;-" 結束的行之後的代碼。Emacs/ESS 則不縮進頂層函數的代碼。如果你希
望 Vim-R-plugin 這方面採用 Emacs/ESS 風格，在  <a href="starting.html#.vimrc">.vimrc</a>  裡放入:

<code class="example">   let r_indent_ess_compatible = 1</code>

下面舉一個打開和關閉此選項的縮進例子:

<code class="example">   ### r_indent_ess_compatible = 1           ### r_indent_ess_compatible = 0</code>
<code class="example">   foo &lt;-                                    foo &lt;-</code>
<code class="example">       function(x)                               function(x)</code>
<code class="example">   {                                             {</code>
<code class="example">       paste(x)                                      paste(x)</code>
<code class="example">   }                                             }</code>


SHELL                                                   <b class="vimtag"> <a name="ft-sh-indent">ft-sh-indent</a> </b>

通過 b:sh_indent_defaults 字典  <a href="eval.html#Dictionary">Dictionary</a>  的以下鍵，可以配置外殼文件在各種情
況下使用的縮進距離。它們可以是某個特定的值或者是返回所需距離的函數引用
 <a href="eval.html#Funcref">Funcref</a> :

b:sh_indent_options[<code class="badlink">'default'</code>]  缺省縮進距離。

b:sh_indent_options['continuation-line']
                                加到續行上的縮進距離。

b:sh_indent_options['case-labels']
                                加到 case 標籤上的縮進距離。
                                (沒有實際實現)

b:sh_indent_options['case-statements']
                                加到 case 語句上的縮進距離。

b:sh_indent_options['case-breaks']
                                加到 (更有可能，減少) case break 語句上的縮進
                                距離。

VERILOG                                                 <b class="vimtag"> <a name="ft-verilog-indent">ft-verilog-indent</a> </b>

一般的代碼塊，像 if、for、case、always、initial、function、specify、begin 等等
都被縮進。module 代碼塊 (處於第一級) 缺省不被縮進。你可以在 .vimrc 裡打開這個
縮進: 
<code class="example"></code>
<code class="example">  let b:verilog_indent_modules = 1</code>
<code class="example"></code>
這樣 module 代碼塊就被縮進。要關閉縮進，刪除這個變量: 
<code class="example"></code>
<code class="example">  :unlet b:verilog_indent_modules</code>
<code class="example"></code>
要只對 Verilog 文件設定變量，可以這樣做: 
<code class="example"></code>
<code class="example">  au BufReadPost * if exists("b:current_syntax")</code>
<code class="example">  au BufReadPost *   if b:current_syntax == "verilog"</code>
<code class="example">  au BufReadPost *     let b:verilog_indent_modules = 1</code>
<code class="example">  au BufReadPost *   endif</code>
<code class="example">  au BufReadPost * endif</code>
<code class="example"></code>
另外，可以設定 b:verilog_indent_width 來改變縮進值 (缺省為 <a href="options.html#'shiftwidth'">'shiftwidth'</a>): 
<code class="example">  let b:verilog_indent_width = 4</code>
<code class="example">  let b:verilog_indent_width = &amp;sw * 2</code>
<code class="example"></code>
你還可以打開詳細模式來幫助調試: 
<code class="example"></code>
<code class="example">  let b:verilog_indent_verbose = 1</code>
<code class="example"></code>
不要忘了要先設定 ":set cmdheight=2" 才能顯示信息。


VHDL                                                    <b class="vimtag"> <a name="ft-vhdl-indent">ft-vhdl-indent</a> </b>

缺省執行 類屬 (generic) /端口 (port) 映射語句的對齊。下例說明這種對齊的應用: 
<code class="example"></code>
<code class="example">  ENTITY sync IS</code>
<code class="example">  PORT (</code>
<code class="example">         clk        : IN  STD_LOGIC;</code>
<code class="example">         reset_n    : IN  STD_LOGIC;</code>
<code class="example">         data_input : IN  STD_LOGIC;</code>
<code class="example">         data_out   : OUT STD_LOGIC</code>
<code class="example">       );</code>
<code class="example">  END ENTITY sync;</code>
<code class="example"></code>
要關閉之，在 .vimrc 文件中加上 
<code class="example"></code>
<code class="example">  let g:vhdl_indent_genportmap = 0</code>
<code class="example"></code>
而上例也隨之改變了對齊: 
<code class="example"></code>
<code class="example">  ENTITY sync IS</code>
<code class="example">  PORT (</code>
<code class="example">    clk        : IN  STD_LOGIC;</code>
<code class="example">    reset_n    : IN  STD_LOGIC;</code>
<code class="example">    data_input : IN  STD_LOGIC;</code>
<code class="example">    data_out   : OUT STD_LOGIC</code>
<code class="example">  );</code>
<code class="example">  END ENTITY sync;</code>
<code class="example"></code>
</pre><hr class="singleline" /><pre>

缺省執行右手邊賦值 "&lt;=" 語句的對齊。下例說明這種對齊的應用: 
<code class="example"></code>
<code class="example">  sig_out &lt;= (bus_a(1) AND</code>
<code class="example">             (sig_b OR sig_c)) OR</code>
<code class="example">             (bus_a(0) AND sig_d);</code>
<code class="example"></code>
要關閉之，在 .vimrc 文件中加上 
<code class="example"></code>
<code class="example">  let g:vhdl_indent_rhsassign = 0</code>
<code class="example"></code>
而上例也隨之改變了對齊: 
<code class="example"></code>
<code class="example">  sig_out &lt;= (bus_a(1) AND</code>
<code class="example">    (sig_b OR sig_c)) OR</code>
<code class="example">    (bus_a(0) AND sig_d);</code>
<code class="example"></code>
</pre><hr class="singleline" /><pre>

整行註釋 ("--" 打頭的行) 的縮進和上一行註釋對齊， <code class="emphasis">如果</code>  "--" 之後有一個空格的
話。

示例: 
<code class="example"></code>
<code class="example">  sig_a &lt;= sig_b; -- 開始註釋</code>
<code class="example">                  -- 註釋繼續</code>
<code class="example">                  -- 同一註釋的更多內容</code>
<code class="example"></code>
在插入模式下，輸入 "-- " 後 (<code class="note">注意</code>空格 " ")，按 <code class="keystroke">CTRL-F</code> 會使當前的 "-- " 和上一
行的 "--" 對齊。

如果緊鄰的上一行不包含 "--"， <code class="emphasis">那麼</code> 整行註釋會和下一個非空白且 <code class="emphasis">不是</code> 整行註釋的
行的起始位置對齊。

下列代碼的縮進: 
<code class="example"></code>
<code class="example">  sig_c &lt;= sig_d; -- 註釋 0</code>
<code class="example">         -- 註釋 1</code>
<code class="example">               -- 註釋 2</code>
<code class="example">    --debug_code:</code>
<code class="example">    --PROCESS(debug_in)</code>
<code class="example">         --BEGIN</code>
<code class="example">            --  FOR i IN 15 DOWNTO 0 LOOP</code>
<code class="example">             --    debug_out(8*i+7 DOWNTO 8*i) &lt;= debug_in(15-i);</code>
<code class="example">            --  END LOOP;</code>
<code class="example">     --END PROCESS debug_code;</code>
<code class="example"></code>
<code class="example">      -- 註釋 3</code>
<code class="example">  sig_e &lt;= sig_f; -- 註釋 4</code>
<code class="example">           -- 註釋 5</code>
<code class="example"></code>
結果是: 
<code class="example"></code>
<code class="example">  sig_c &lt;= sig_d; -- 註釋 0</code>
<code class="example">                  -- 註釋 1</code>
<code class="example">                  -- 註釋 2</code>
<code class="example">  --debug_code:</code>
<code class="example">  --PROCESS(debug_in)</code>
<code class="example">  --BEGIN</code>
<code class="example">  --  FOR i IN 15 DOWNTO 0 LOOP</code>
<code class="example">  --    debug_out(8*i+7 DOWNTO 8*i) &lt;= debug_in(15-i);</code>
<code class="example">  --  END LOOP;</code>
<code class="example">  --END PROCESS debug_code;</code>
<code class="example"></code>
<code class="example">  -- 註釋 3</code>
<code class="example">  sig_e &lt;= sig_f; -- 註釋 4</code>
<code class="example">                  -- 註釋 5</code>
<code class="example"></code>
<code class="note">注意</code>到 "--debug_code:" 不和 "-- comment 2" 對齊，因為 "--debug_code:" 的 "--"
之後沒有空白。

基於註釋縮進的動態性，縮進應該執行 <code class="emphasis">兩次</code> 。第一遍縮進代碼，第二遍依據已正確縮進
的代碼來縮進整行註釋。


VIM                                                     <b class="vimtag"> <a name="ft-vim-indent">ft-vim-indent</a> </b>

對於縮進 Vim 腳本，有個變量可以指定續行的縮進距離，續行就是以反斜槓開始的行: 
<code class="example"></code>
<code class="example">        :let g:vim_indent_cont = &amp;sw * 3</code>
<code class="example"></code>
缺省值是三倍的 shiftwidth。


 vim:tw=78:ts=8:ft=help:norl:
</pre>
<p><i>Generated by vim2html</i></p>
</div>
</body>
</html>
